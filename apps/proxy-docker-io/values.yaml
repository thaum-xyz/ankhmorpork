# Config reference: https://artifacthub.io/packages/helm/twuni/docker-registry

# TODO: bump version and enable TTL when https://github.com/distribution/distribution/pull/3880 is merged

proxy:
  enabled: true
  remoteurl: "https://registry-1.docker.io"
  #secretRef:

persistence:
  enabled: false

serviceAccount:
  create: true

service:
  type: LoadBalancer
  loadBalancerIP: "192.168.2.96"
  port: 5000
  annotations:
    metallb.universe.tf/address-pool: "default"
    metallb.universe.tf/allow-shared-ip: docker-proxy-svc-key

ingress:
  enabled: false

#secrets:
#  hsSharedSecret: ???
#  s3:
#    secretRef: ???

#s3:
#  bucket: ???
#  regionEndpoint: ???
#  secure: false
#  

resources:
  #limits:
  requests:
    cpu: 10m
    memory: 10Mi

metrics:
  enabled: true
  port: 6000
  serviceMonitor:
    enabled: true
  prometheusRule:
    enabled: true

garbageCollect:
  enabled: true
  schedule: "48 2 * * *"
