---
common:
  namespace: &namespace "photoprism"
photoprism:
  version: "221118"  # application-version-from-github: photoprism/photoprism
  image: "photoprism/photoprism:221118-jammy"  # application-image-from-github: photoprism/photoprism
  namespace: *namespace
  ingress:
    domain: "photo.ankhmorpork.thaum.xyz"
    className: traefik
    labels:
      reloader.homer/enabled: "true"
    annotations:
      cert-manager.io/cluster-issuer: 'letsencrypt-prod'
      reloader.homer/group: Multimedia
      reloader.homer/logo: "https://avatars.githubusercontent.com/u/32436079?s=400&v=4"
      reloader.homer/name: Photoprism
      reloader.homer/subtitle: "Photo management system"
      reloader.homer/tag: "testing"
  timezone: "Europe/Berlin"
  envs:
    TZ: "Europe/Berlin"
    PHOTOPRISM_DEBUG: "true"
    PHOTOPRISM_READONLY: "true"
    PHOTOPRISM_DISABLE_WEBDAV: "true"
    PHOTOPRISM_ORIGINALS_PATH: /photoprism/originals
    PHOTOPRISM_DATABASE_DRIVER: sqlite
    # PHOTOPRISM_CACHE_PATH: /assets/cache
    # PHOTOPRISM_IMPORT_PATH: /assets/photos/import
    # PHOTOPRISM_EXPORT_PATH: /assets/photos/export
  credentialsRefs:
    PHOTOPRISM_ADMIN_PASSWORD: 'PHOTOPRISM_ADMIN_PASSWORD'
    PHOTOPRISM_DATABASE_PASSWORD: 'PHOTOPRISM_DATABASE_PASSWORD'
  resources:
    requests:
    #  cpu: 4500m
      cpu: 500m
      memory: 4Gi
    limits:
      cpu: 2500m
    #  memory: 800Mi
  storageSpec:
    storageClassName: "qnap-nfs"
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 300Mi
  additionalPVCs:
    originals:
      name: 'originals'
      mountPath: '/photoprism/originals'
      readOnly: true
      spec:
        storageClassName: "manual"
        accessModes:
          - ReadWriteOnce
        resources:
          requests:
            storage: 4000Gi
