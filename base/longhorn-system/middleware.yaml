---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: oidc
  namespace: longhorn-system
spec:
  plugin:
    traefik-oidc-auth: # same key as in the static configuration
      Secret: "urn:k8s:secret:oidc-secret:pluginSecret"
      Provider:
        # You could just write strings here for the values.
        ClientId: "urn:k8s:secret:oidc-secret:providerClientId"
        # Or you can reference a Secret in the same namespace as the Middleware.
        # This will resolve to the value of the providerClientSecret key
        # in the secret named oidc-secret.
        ClientSecret: "urn:k8s:secret:oidc-secret:providerClientSecret"
